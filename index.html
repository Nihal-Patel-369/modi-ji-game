<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <title>Modi Ji Flappy Bird Game - Uddta Hi Phirun - High Score Challenge!</title>

    <meta name="description" content="Modi Ji Flappy Bird ‡§ú‡•à‡§∏‡§æ ‡§Æ‡§ú‡§º‡•á‡§¶‡§æ‡§∞ ‡§ó‡•á‡§Æ ‡§ñ‡•á‡§≤‡•á‡§Ç! '‡§â‡§°‡§º‡§§‡§æ ‡§π‡•Ä ‡§´‡§ø‡§∞‡•Ç‡§Å ‡§á‡§® ‡§π‡§µ‡§æ‡§ì‡§Ç ‡§Æ‡•á‡§Ç ‡§ï‡§π‡•Ä‡§Ç...' ‡§ó‡§æ‡§®‡•á ‡§ï‡•á ‡§∏‡§æ‡§• ‡§Æ‡§ú‡§º‡•á‡§¶‡§æ‡§∞ ‡§™‡§æ‡§á‡§™‡•ã‡§Ç ‡§∏‡•á ‡§¨‡§ö‡•á‡§Ç‡•§ ‡§Ö‡§™‡§®‡•á ‡§¶‡•ã‡§∏‡•ç‡§§‡•ã‡§Ç ‡§ï‡•ã ‡§π‡§æ‡§à ‡§∏‡•ç‡§ï‡•ã‡§∞ ‡§ï‡§æ ‡§ö‡•à‡§≤‡•á‡§Ç‡§ú ‡§¶‡•á‡§Ç!">
    
    <meta name="keywords" content="Modi Flappy Game, Modi Flying Game, PM Modi Game, Uddta Hi Phirun, Fun Games, Viral Game, Timepass, Political Satire">

    <meta property="og:title" content="Modi Ji Flappy Game - Uddta Hi Phirun - High Score Challenge!">
    <meta property="og:description" content="‡§ú‡§≤‡•ç‡§¶‡•Ä ‡§ñ‡•á‡§≤‡•ã ‡§î‡§∞ ‡§¶‡•á‡§ñ‡•ã ‡§Ü‡§™ ‡§ï‡§ø‡§§‡§®‡§æ ‡§∏‡•ç‡§ï‡•ã‡§∞ ‡§ï‡§∞ ‡§™‡§æ‡§§‡•á ‡§π‡•ã! Game Over ‡§™‡§∞ '‡§≤‡•å**‡•á ‡§≤‡§ó ‡§ó‡§è' ‡§∏‡§æ‡§â‡§Ç‡§° ‡§Ü‡§è‡§ó‡§æ‡•§">
    <meta property="og:image" content="https://‡§Ü‡§™‡§ï‡§æ-netlify-‡§≤‡§ø‡§Ç‡§ï/social_share.png"> 
    <meta property="og:url" content="https://‡§Ü‡§™‡§ï‡§æ-netlify-‡§≤‡§ø‡§Ç‡§ï">
    <meta property="og:type" content="website">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Viral Modi Flappy Game!">
    <meta name="twitter:description" content="‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ 50 ‡§ï‡§æ ‡§∏‡•ç‡§ï‡•ã‡§∞ ‡§™‡§æ‡§∞ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç? Tap ‡§ï‡§∞‡§ï‡•á PM Modi ‡§ï‡•ã ‡§â‡§°‡§º‡§æ‡§è‡§Ç!">
    <meta name="twitter:image" content="https://‡§Ü‡§™‡§ï‡§æ-netlify-‡§≤‡§ø‡§Ç‡§ï/social_share.png">
    
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        /* (Style section is kept the same as the Responsive version) */
        body {
            margin: 0;
            padding: 0;
            background-color: #2c3e50;
            font-family: 'Press Start 2P', cursive;
            overflow: hidden; 
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            touch-action: none; 
        }

        #gameContainer {
            position: relative;
            width: 100%;
            max-width: 480px; 
            height: 100vh;
            max-height: 800px;
            background-color: #70c5ce;
            box-shadow: 0 0 30px rgba(0,0,0,0.5);
            overflow: hidden;
        }

        canvas {
            display: block;
            width: 100%;
            height: 100%;
        }

        .overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none; 
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            z-index: 50; 
        }

        #scoreBoard {
            position: absolute;
            top: 10%;
            width: 100%;
            text-align: center;
            font-size: 40px;
            color: white;
            text-shadow: 3px 3px 0 #000;
            z-index: 100;
        }

        #startScreen, #gameOverScreen {
            background: rgba(0, 0, 0, 0.7);
            pointer-events: auto; 
            border-radius: 15px;
            padding: 20px;
            width: 80%;
            border: 4px solid #fff;
        }

        .hidden {
            display: none !important;
        }

        h1 {
            color: #f1c40f;
            font-size: 24px;
            line-height: 1.5;
            margin-bottom: 20px;
            text-shadow: 2px 2px #000;
        }

        p {
            color: #fff;
            font-size: 12px;
            line-height: 1.8;
            margin-bottom: 20px;
        }

        button {
            background: #e74c3c;
            color: white;
            border: 2px solid #c0392b;
            padding: 15px 30px;
            font-family: 'Press Start 2P', cursive;
            font-size: 16px;
            cursor: pointer;
            box-shadow: 0 4px #992d22;
            transition: transform 0.1s;
        }

        button:active {
            transform: translateY(4px);
            box-shadow: 0 0 #992d22;
        }

        .footer {
            position: absolute;
            bottom: 10px;
            font-size: 10px;
            color: rgba(255,255,255,0.5);
            pointer-events: auto; 
        }
        
        .social-share {
            margin-top: 15px;
            display: flex;
            gap: 10px;
        }
        .social-share a {
            color: white;
            text-decoration: none;
            font-size: 10px;
            padding: 5px 10px;
            border-radius: 5px;
            background-color: #2ecc71;
            box-shadow: 0 2px #27ae60;
        }
    </style>
</head>
<body>

    <img id="modiImg" src="modi.png" style="display:none;">
    <audio id="bgMusic" src="bg_music.mp3" loop></audio>
    <audio id="dieSound" src="gameover.mp3"></audio>

    <div id="gameContainer">
        <canvas id="canvas"></canvas>

        <div id="scoreBoard">0</div>

        <div id="startScreen" class="overlay">
            <h1>MODI JI<br>KI UDAAN</h1>
            <p>‡§Æ‡§ø‡§§‡•ç‡§∞‡•ã‡§Ç! ‡§â‡§°‡§º‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è<br>Tap ‡§ï‡§∞‡•á‡§Ç ‡§Ø‡§æ Space ‡§¶‡§¨‡§æ‡§è‡§Ç</p>
            <button id="startBtn">START GAME</button>
            <div class="footer">Made for Fun</div>
        </div>

        <div id="gameOverScreen" class="overlay hidden">
            <h1 style="color: #e74c3c;">GAME OVER</h1>
            <p>‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§ï‡•ã‡§∞: <span id="finalScore">0</span><br>‡§¨‡•á‡§∏‡•ç‡§ü ‡§∏‡•ç‡§ï‡•ã‡§∞: <span id="bestScore">0</span></p>
            <button id="restartBtn">RETRY</button>
            
            <div class="social-share">
                <a id="whatsappShare" href="#" target="_blank">Share WhatsApp</a>
                <a id="twitterShare" href="#" target="_blank">Share Twitter</a>
            </div>
        </div>
    </div>

<script>
    // --- SETUP ---
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    
    // UI Elements
    const scoreElement = document.getElementById('scoreBoard');
    const startScreen = document.getElementById('startScreen');
    const gameOverScreen = document.getElementById('gameOverScreen');
    const finalScoreEl = document.getElementById('finalScore');
    const bestScoreEl = document.getElementById('bestScore');
    const startBtn = document.getElementById('startBtn');
    const restartBtn = document.getElementById('restartBtn');
    const whatsappShareBtn = document.getElementById('whatsappShare');
    const twitterShareBtn = document.getElementById('twitterShare');

    // Audio & Image
    const modiSprite = document.getElementById('modiImg');
    const bgMusic = document.getElementById('bgMusic');
    const dieSound = document.getElementById('dieSound');

    // Game State & Constants
    let gamePlaying = false;
    let score = 0;
    let animationId;
    let savedHighScore = localStorage.getItem('modiGameHighScore') || 0;
    const cWidth = 320; 
    const cHeight = 480;
    canvas.width = cWidth;
    canvas.height = cHeight;
    const GAME_URL = window.location.href; 

    // --- OBJECTS ---
    
    // ‡§Æ‡•ã‡§¶‡•Ä ‡§ú‡•Ä (‡§™‡•ç‡§≤‡•á‡§Ø‡§∞)
    const bird = {
        x: 50, y: 150, w: 34, h: 24, dy: 0, 
        // üëá DIFFICULTY ADJUSTMENT: Easier Gravity and Jump
        gravity: 0.18, // ‚≠êÔ∏è ‡§ï‡§Æ ‡§ï‡§ø‡§Ø‡§æ (was 0.25)
        jump: 5.0,     // ‚≠êÔ∏è ‡§¨‡§¢‡§º‡§æ‡§Ø‡§æ (was 4.6)
        // üëÜ DIFFICULTY ADJUSTMENT
        
        draw: function() {
            if (modiSprite.complete && modiSprite.naturalHeight !== 0) {
                ctx.save();
                ctx.translate(this.x + this.w/2, this.y + this.h/2);
                let rotation = Math.min(Math.PI / 4, Math.max(-Math.PI / 4, (this.dy * 0.1)));
                ctx.rotate(rotation);
                ctx.drawImage(modiSprite, -this.w/2, -this.h/2, this.w, this.h);
                ctx.restore();
            } else {
                ctx.fillStyle = "yellow";
                ctx.fillRect(this.x, this.y, this.w, this.h);
            }
        },
        update: function() {
            this.dy += this.gravity;
            this.y += this.dy;
            if (this.y + this.h >= cHeight - fg.h) {
                this.y = cHeight - fg.h - this.h;
                gameOver();
            }
            if(this.y < 0) this.y = 0;
        },
        flap: function() { this.dy = -this.jump; }
    };

    // ‡§™‡§æ‡§á‡§™‡•ç‡§∏
    const pipes = {
        items: [], w: 52, 
        // üëá DIFFICULTY ADJUSTMENT: Bigger Gap and Slower Speed
        gap: 130, // ‚≠êÔ∏è ‡§¨‡§¢‡§º‡§æ‡§Ø‡§æ (was 110)
        dx: 1.8,  // ‚≠êÔ∏è ‡§ï‡§Æ ‡§ï‡§ø‡§Ø‡§æ (was 2)
        // üëÜ DIFFICULTY ADJUSTMENT
        
        draw: function() {
            for(let i=0; i<this.items.length; i++) {
                let p = this.items[i];
                ctx.fillStyle = "#2ecc71";
                ctx.strokeStyle = "#27ae60";
                ctx.lineWidth = 2;
                ctx.fillRect(p.x, 0, this.w, p.top);
                ctx.strokeRect(p.x, 0, this.w, p.top);
                let bottomY = p.top + this.gap;
                ctx.fillRect(p.x, bottomY, this.w, cHeight - bottomY - fg.h);
                ctx.strokeRect(p.x, bottomY, this.w, cHeight - bottomY - fg.h);
            }
        },
        update: function() {
            // üëá DIFFICULTY ADJUSTMENT: Pipes spawn less frequently
            if(frames % 130 === 0) { // ‚≠êÔ∏è ‡§¨‡§¢‡§º‡§æ‡§Ø‡§æ (was 110)
                let _maxY = cHeight - fg.h - this.gap - 20; 
                let _top = Math.random() * (_maxY - 20) + 20;
                this.items.push({ x: cWidth, top: _top, passed: false });
            }
            // üëÜ DIFFICULTY ADJUSTMENT
            
            for(let i=0; i<this.items.length; i++) {
                let p = this.items[i];
                p.x -= this.dx;
                // Collision check...
                if(bird.x + bird.w > p.x && bird.x < p.x + this.w) {
                    if(bird.y < p.top || bird.y + bird.h > p.top + this.gap) {
                        gameOver();
                    }
                }
                // Score update
                if(p.x + this.w <= bird.x && !p.passed) {
                    score++;
                    scoreElement.innerText = score;
                    p.passed = true;
                }
                if(p.x + this.w <= 0) {
                    this.items.shift();
                    i--;
                }
            }
        }
    };

    const fg = {
        h: 80, x: 0,
        draw: function() {
            ctx.fillStyle = "#e67e22";
            ctx.fillRect(this.x, cHeight - this.h, cWidth, this.h);
            ctx.fillRect(this.x + cWidth, cHeight - this.h, cWidth, this.h);
            ctx.fillStyle = "#27ae60";
            ctx.fillRect(this.x, cHeight - this.h, cWidth, 15);
            ctx.fillRect(this.x + cWidth, cHeight - this.h, cWidth, 15);
        },
        update: function() {
            this.x = (this.x - 2) % (cWidth);
        }
    };

    // --- GAME LOOP ---
    let frames = 0;
    function loop() {
        if(!gamePlaying) return;
        ctx.fillStyle = "#70c5ce";
        ctx.fillRect(0, 0, cWidth, cHeight);
        pipes.update();
        pipes.draw();
        fg.update();
        fg.draw();
        bird.update();
        bird.draw();
        frames++;
        animationId = requestAnimationFrame(loop);
    }

    // --- GAME CONTROL FUNCTIONS ---
    function initGame() {
        bird.y = 150; bird.dy = 0; pipes.items = []; score = 0; frames = 0;
        scoreElement.innerText = 0;
        gamePlaying = true;
        startScreen.classList.add('hidden');
        gameOverScreen.classList.add('hidden');
        bgMusic.currentTime = 0;
        bgMusic.play().catch(e => console.log("Audio play failed on start:", e));
        loop();
    }

    function gameOver() {
        gamePlaying = false;
        cancelAnimationFrame(animationId);
        bgMusic.pause();
        dieSound.play();

        if(score > savedHighScore) {
            savedHighScore = score;
            localStorage.setItem('modiGameHighScore', savedHighScore);
        }

        finalScoreEl.innerText = score;
        bestScoreEl.innerText = savedHighScore;
        
        // SEO: Sharing Links Update
        updateShareLinks(score);
        
        gameOverScreen.classList.remove('hidden');
    }
    
    // --- SHARING LOGIC (SEO/Virality) ---
    function updateShareLinks(currentScore) {
        const shareText = `‡§Æ‡•à‡§Ç‡§®‡•á Modi Ji Flappy Game ‡§Æ‡•á‡§Ç ${currentScore} ‡§∏‡•ç‡§ï‡•ã‡§∞ ‡§ï‡§ø‡§Ø‡§æ! üöÄ ‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§Æ‡•Å‡§ù‡•á ‡§π‡§∞‡§æ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç?`;
        
        // 1. WhatsApp Link
        const whatsappLink = `whatsapp://send?text=${encodeURIComponent(shareText)}%20${encodeURIComponent(GAME_URL)}`;
        whatsappShareBtn.href = whatsappLink;

        // 2. Twitter Link
        const twitterLink = `https://twitter.com/intent/tweet?text=${encodeURIComponent(shareText)}&url=${encodeURIComponent(GAME_URL)}&hashtags=ModiGame,UddtaHiPhirun,Flappy`;
        twitterShareBtn.href = twitterLink;
    }

    // --- INPUT HANDLING ---
    function inputAction(e) {
        if(e.target.tagName === 'BUTTON' || e.target.closest('.social-share')) return;

        if(!gamePlaying && !startScreen.classList.contains('hidden')) {
            initGame();
        } else if(gamePlaying) {
            bird.flap();
        } else if(!gamePlaying && !gameOverScreen.classList.contains('hidden')) {
            initGame();
        }
    }

    // Event Listeners (Mobile + PC)
    startBtn.addEventListener('click', initGame);
    restartBtn.addEventListener('click', initGame);
    
    window.addEventListener('mousedown', inputAction);
    window.addEventListener('touchstart', (e) => {
       inputAction(e);
    }, {passive: true}); 

    window.addEventListener('keydown', (e) => {
        if(e.code === 'Space') {
            inputAction(e);
        }
    });

    // Initial Draw
    ctx.fillStyle = "#70c5ce";
    ctx.fillRect(0, 0, cWidth, cHeight);
    fg.draw();
    bird.draw();

</script>
</body>
</html>
